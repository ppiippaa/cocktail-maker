{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\pippa\\\\portfolio-projects\\\\cocktails\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\pippa\\\\portfolio-projects\\\\cocktails\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\pippa\\\\portfolio-projects\\\\cocktails\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useContext,useState}from'react';import{DrinksContext}from\"../state/DrinksContext\";import axios from\"axios\";import transformDrinkData from\"../utils/adaptors/getDrinks\";import ButtonRandomCocktail from\"../components/ButtonRandomCocktail\";import SearchIngredient from\"../components/SearchIngredient\";import SearchName from\"../components/SearchName\";import ErrorMsg from\"./ErrorMsg\";import DisplayCocktail from\"../components/DisplayCocktail\";import{StyledCocktailGrid}from\"../components/styles/CocktailGrid.styled\";import'../components/styles/Homepage.css';import homepageImage from'../media/homepageImage.jpg';import'../components/styles/Homepage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Homepage=function Homepage(){// STATE FOR COCKTAIL\nvar _useContext=useContext(DrinksContext),drinks=_useContext.drinks,setDrinks=_useContext.setDrinks;// STATE FOR COCKTAIL INGREDIENT SEARCH\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchIngredient=_useState2[0],setSearchIngredient=_useState2[1];// STATE FOR COCKTAIL NAME SEARCH\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchName=_useState4[0],setSearchName=_useState4[1];// ERROR IN FETCH STATE\nvar _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),fetchError=_useState6[0],setFetchError=_useState6[1];var randomCocktailHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://www.thecocktaildb.com/api/json/v1/1/random.php');case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setDrinks([transformDrinkData(data['drinks'][0])]);case 5:case\"end\":return _context.stop();}}},_callee);}));return function randomCocktailHandler(){return _ref.apply(this,arguments);};}();// SEARCH BY INGREDIENTS\nvar handleIngredientChange=function handleIngredientChange(e){setSearchIngredient(e.target.value);};var searchIngredients=function searchIngredients(e){e.preventDefault();var ingredient=searchIngredient;var url='https://www.thecocktaildb.com/api/json/v1/1/filter.php?i=';axios.get(\"\".concat(url).concat(ingredient)).then(function(response){var allDrinks=response.data['drinks'].map(function(drink){return transformDrinkData(drink);});setDrinks(allDrinks);setFetchError(false);}).catch(function(error){console.log(\"Sorry, no cocktails containing \".concat(ingredient,\" were found\"));setFetchError(true);});};// SEARCH BY COCKTAIL NAME\nvar handleNameChange=function handleNameChange(e){setSearchName(e.target.value);};var searchCocktailName=function searchCocktailName(e){e.preventDefault();var name=searchName;var url='https://www.thecocktaildb.com/api/json/v1/1/search.php?s=';axios.get(\"\".concat(url).concat(name)).then(function(response){var allDrinks=response.data['drinks'].map(function(drink){return transformDrinkData(drink);});setDrinks(allDrinks);setFetchError(false);}).catch(function(error){console.log(\"Sorry, we couldn't find \".concat(searchName));setFetchError(true);});};var clearNameInput=function clearNameInput(){setSearchName('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-row landing-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:homepageImage,alt:\"logo\",className:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(SearchIngredient,{ingredientChange:handleIngredientChange,submitIngredientSearch:searchIngredients}),/*#__PURE__*/_jsx(SearchName,{nameChange:handleNameChange,submitNameSearch:searchCocktailName,clearNameInput:clearNameInput}),/*#__PURE__*/_jsx(ButtonRandomCocktail,{randomCocktail:randomCocktailHandler})]})]}),fetchError?/*#__PURE__*/_jsx(\"div\",{className:\"error-container\",children:/*#__PURE__*/_jsx(ErrorMsg,{})}):/*#__PURE__*/_jsx(\"div\",{className:\"renderedCocktails\",children:/*#__PURE__*/_jsx(StyledCocktailGrid,{children:drinks.map(function(drink){return/*#__PURE__*/_jsx(DisplayCocktail,{drink:drink,searchCocktailName:searchCocktailName},drink.id);})})})]});};export default Homepage;","map":{"version":3,"sources":["C:/Users/pippa/portfolio-projects/cocktails/src/pages/Homepage.js"],"names":["React","useContext","useState","DrinksContext","axios","transformDrinkData","ButtonRandomCocktail","SearchIngredient","SearchName","ErrorMsg","DisplayCocktail","StyledCocktailGrid","homepageImage","Homepage","drinks","setDrinks","searchIngredient","setSearchIngredient","searchName","setSearchName","fetchError","setFetchError","randomCocktailHandler","get","data","handleIngredientChange","e","target","value","searchIngredients","preventDefault","ingredient","url","then","response","allDrinks","map","drink","catch","error","console","log","handleNameChange","searchCocktailName","name","clearNameInput","id"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react';\r\nimport {DrinksContext} from \"../state/DrinksContext\";\r\nimport axios from \"axios\";\r\nimport transformDrinkData from \"../utils/adaptors/getDrinks\";\r\nimport ButtonRandomCocktail from \"../components/ButtonRandomCocktail\";\r\nimport SearchIngredient from \"../components/SearchIngredient\";\r\nimport SearchName from \"../components/SearchName\";\r\nimport ErrorMsg from \"./ErrorMsg\";\r\nimport DisplayCocktail from \"../components/DisplayCocktail\";\r\nimport {StyledCocktailGrid} from \"../components/styles/CocktailGrid.styled\";\r\nimport '../components/styles/Homepage.css';\r\nimport homepageImage from '../media/homepageImage.jpg';\r\nimport '../components/styles/Homepage.css';\r\n\r\n\r\nconst Homepage = () => {\r\n    // STATE FOR COCKTAIL\r\n    const {drinks, setDrinks} = useContext(DrinksContext)\r\n    // STATE FOR COCKTAIL INGREDIENT SEARCH\r\n    const [searchIngredient, setSearchIngredient] = useState('')\r\n    // STATE FOR COCKTAIL NAME SEARCH\r\n    const [searchName, setSearchName] = useState('')\r\n    // ERROR IN FETCH STATE\r\n    const [fetchError, setFetchError] = useState(null)\r\n\r\n\r\n    const randomCocktailHandler = async () => {\r\n        const {data} = await axios.get('https://www.thecocktaildb.com/api/json/v1/1/random.php')\r\n        setDrinks([transformDrinkData(data['drinks'][0])])\r\n    }\r\n\r\n\r\n    // SEARCH BY INGREDIENTS\r\n    const handleIngredientChange = (e) => {\r\n        setSearchIngredient(e.target.value)\r\n    }\r\n\r\n\r\n    const searchIngredients = (e) => {\r\n        e.preventDefault()\r\n        const ingredient = searchIngredient;\r\n        const url = 'https://www.thecocktaildb.com/api/json/v1/1/filter.php?i='\r\n\r\n\r\n        axios\r\n            .get(`${url}${ingredient}`)\r\n            .then(response => {\r\n                const allDrinks = response.data['drinks'].map(drink => transformDrinkData(drink))\r\n                setDrinks(allDrinks)\r\n                setFetchError(false)\r\n\r\n            }).catch(error => {\r\n            console.log(`Sorry, no cocktails containing ${ingredient} were found`)\r\n            setFetchError(true)\r\n\r\n        })\r\n\r\n    }\r\n\r\n\r\n    // SEARCH BY COCKTAIL NAME\r\n    const handleNameChange = (e) => {\r\n        setSearchName(e.target.value)\r\n    }\r\n\r\n    const searchCocktailName = (e) => {\r\n        e.preventDefault()\r\n        const name = searchName\r\n        const url = 'https://www.thecocktaildb.com/api/json/v1/1/search.php?s='\r\n\r\n        axios\r\n            .get(`${url}${name}`)\r\n            .then(response => {\r\n                const allDrinks = response.data['drinks'].map(drink => transformDrinkData(drink))\r\n                setDrinks(allDrinks)\r\n                setFetchError(false)\r\n            }).catch(error => {\r\n            console.log(`Sorry, we couldn't find ${searchName}`)\r\n            setFetchError(true)\r\n        })\r\n\r\n    }\r\n\r\n    const clearNameInput = () => {\r\n        setSearchName('');\r\n    }\r\n\r\n\r\n    return (\r\n            <div className=\"main-container\">\r\n                <div className='flex-row landing-container'>\r\n                    <div className='logo-container'>\r\n                        <img src={homepageImage} alt=\"logo\" className=\"logo\"/>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div className=\"controls\">\r\n                            <SearchIngredient ingredientChange={handleIngredientChange}\r\n                                              submitIngredientSearch={searchIngredients}\r\n\r\n                            />\r\n                            <SearchName nameChange={handleNameChange}\r\n                                        submitNameSearch={searchCocktailName}\r\n                                        clearNameInput={clearNameInput}\r\n                            />\r\n                        <ButtonRandomCocktail randomCocktail={randomCocktailHandler}/>\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n                {\r\n                    fetchError ? <div className='error-container'><ErrorMsg/></div> : (\r\n                        <div className='renderedCocktails'>\r\n                            <StyledCocktailGrid>\r\n                                {\r\n                                    drinks.map(drink =>\r\n                                        <DisplayCocktail\r\n                                            drink={drink}\r\n                                            key={drink.id}\r\n                                            searchCocktailName={searchCocktailName}\r\n                                        />)\r\n                                }\r\n                            </StyledCocktailGrid>\r\n                        </div>\r\n                    )\r\n                }\r\n\r\n            </div>\r\n\r\n    )\r\n\r\n\r\n};\r\n\r\n\r\nexport default Homepage;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}